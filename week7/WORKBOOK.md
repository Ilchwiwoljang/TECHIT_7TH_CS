# TCP/IPμ™€ UDP

## TCP/IP 4κ³„μΈµ

<img src="img/1.png" width="200">

Transmission Control Protocol / Internet Protocol

μ»΄ν“¨ν„°μ™€ μ»΄ν“¨ν„°κ°„μ μ§€μ—­λ„¤νΈμ›ν¬(LAN) νΉμ€ κ΄‘μ—­λ„¤νΈμ›ν¬(WAN)μ—μ„ μ›ν™ν• ν†µμ‹ μ„ κ°€λ¥ν•λ„λ΅ ν•κΈ° μ„ν• ν†µμ‹ κ·μ•½

## μ „μ†΅κ³„μΈµ (Transport Layer)

λ°μ΄ν„°λ¥Ό ν¨μ¨μ μ΄κ³  μ•μ •μ μΌλ΅ μ „λ‹¬ν•λ” μ—­ν• μ κ³„μΈµ

λ„¤νΈμ›ν¬ μ–‘ λλ‹¨(μ†΅μ‹ μ - μμ‹ μ, End to End)κ°„μ μ—°κ²°μ„ μ κ³µν•λ” κ³„μΈµ

(λ°μ΄ν„°κ°€ μ‹μ‘μ§€λ¶€ν„° λ©μ μ§€κΉμ§€ μ¤‘κ°„μ— κ°μ…μ΄λ‚ λ³€ν• μ—†μ΄ μ•μ „ν•κ² μ „λ‹¬λμ–΄μ•Όν•λ‹¤λ” μ›μΉ™)

μ£Όμ” ν”„λ΅ν† μ½ : TCP / UDP

## TCP

Transmission Control Protocol

μ—°κ²° μ§€ν–¥ν• ν”„λ΅ν† μ½

λ°μ΄ν„°μ μ‹ λΆ°μ„± μλ” μ „μ†΅μ„ λ³΄μ¥ν•λ” ν”„λ΅ν† μ½

λ°λ“μ‹ μμ‹ μκ°€ μ •λ³΄λ¥Ό λ°›μ•„μ•Όν•λ” μ‹ λΆ°μ„± μλ” ν†µμ‹ (ex. e-mail)μ΄ ν•„μ”ν•  λ• μ‚¬μ©

μ „μ΄μ¤‘(Full-Duplex), μ λ€μ (Point to Point)λ°©μ‹

κ°€μƒ νμ„  λ°©μ‹μ„ μ‚¬μ© : μ „μ†΅ μμ„λ€λ΅ λ°μ΄ν„° μμ‹ 

<img src="img/2.png" width="400">

3-way handshake / 4-way handshakeλ¥Ό ν†µν•΄ μ—°κ²° μ„¤μ • λ° μ—°κ²° ν•΄μ 

### 3-way handshake

<img src="img/3.png" width="400">

μ—°κ²° μ„¤μ •μ„ μ„ν• κ³Όμ •

μ–‘μ½ λ¨λ‘ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  μ¤€λΉ„κ°€ λμ—λ‹¤λ” κ²ƒμ„ λ³΄μ¥

λ°μ΄ν„° μ „λ‹¬ μ‹μ‘ μ „ ν•μ½μ΄ λ‹¤λ¥Έμ½μ— μ¤€λΉ„λμ—λ‹¤λ” κ²ƒμ„ μ•λ¦°λ‹¤.

1. ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„ : μ ‘μ†μ„ μ”μ²­ν•λ” SYN ν¨ν‚·μ„ λ³΄λ‚Έλ‹¤. / SYN (SEQ : 1000 , ACK : -)
2. μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ : SYN μ”μ²­μ„ λ°›κ³  μ”μ²­μ„ μλ½ν•λ‹¤λ” SYN + ACK ν¨ν‚·μ„ λ°μ†΅ν•κ³  ACK μ‘λ‹µμ„ κΈ°λ‹¤λ¦°λ‹¤. / SYN + ACK (SEQ : 2000 , ACK : 1001)
3. ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„ : ACK μ‘λ‹µμ„ λ³΄λ‚Έ μ΄ν›„ μ—°κ²°μ΄ μ΄λ£¨μ–΄μ§„λ‹¤. / ACK (SEQ : 1001 , ACK : 2001)

### 4-way handshake

<img src="img/4.png" width="400">

μ—°κ²° ν•΄μ λ¥Ό μ„ν• κ³Όμ •

1. ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„ : μ—°κ²°μ„ μΆ…λ£ν•κ² λ‹¤λ” FIN flag μ „μ†΅ / FIN (SEQ : 5000 , ACK : -)
2. μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ : λ¨Όμ € μ‘λ‹µ λ©”μ‹μ§€ λ³΄λ‚Έ ν›„ μμ‹ μ ν†µμ‹ μ΄ λλ‚ λ•κΉμ§€ λ€κΈ° / ACK (SEQ : 7500 , ACK : 5001)
3. μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ : ν†µμ‹ μ΄ λλ‚λ©΄ μ—°κ²°μ΄ μΆ…λ£λμ—λ‹¤λ” FIN flag μ „μ†΅ / FIN (SEQ : 7501 , ACK : 5001)
4. ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„ : ν™•μΈν–λ‹¤λ” λ©”μ‹μ§€λ¥Ό λ³΄λ‚Έλ‹¤. / ACK (SEQ : 5001 , ACK : 7502)

## UDP

User Datagram Protocol

λΉ„μ—°κ²° μ§€ν–¥ν• ν”„λ΅ν† μ½

λ°μ΄ν„°μ μ‹ λΆ°μ„± μλ” μ „μ†΅μ„ λ³΄μ¥ν•μ§€ μ•λ” ν”„λ΅ν† μ½
-> λ°μ΄ν„° μμ‹  μ—¬λ¶€λ¥Ό ν™•μΈν•μ§€ μ•λ”λ‹¤.

μ‹ λΆ°μ„±λ³΄λ‹¤λ” μ—°μ†μ„± μλ” μ „μ†΅(ex. μ‹¤μ‹κ°„ μ¤νΈλ¦¬λ°)μ΄ ν•„μ”ν• κ²½μ°μ— μ‚¬μ©

1λ€1 μ—°κ²°λ°©μ‹μ΄ μ•„λ‹κΈ°μ— μ—¬λ¬ μμ‹ μμ—κ² ν• λ²μ— μ „μ†΅μ΄ κ°€λ¥

λ°μ΄ν„°κ·Έλ¨ ν¨ν‚· κµν™ λ°©μ‹μ„ μ‚¬μ© : λ…Όλ¦¬μ μΈ κ²½λ΅ μ—†μ΄ κ°κ°€μ ν¨ν‚·μ€ λ‹¤λ¥Έ κ²½λ΅λ΅ μ „μ†΅λλ©°, λ…λ¦½μ μΈ κ΄€κ³„λ¥Ό μ§€λ‹λ‹¤.


<img src="img/5.png" width="400">

## TCP vs UDP

|       | TCP | UDP |
|-------|----|----|
| μ—°κ²° λ°©μ‹ | μ—°κ²°ν• μ„λΉ„μ¤ | λΉ„μ—°κ²°ν• μ„λΉ„μ¤ |
| ν¨ν‚· κµν™ | κ°€μƒ νμ„  λ°©μ‹ | λ°μ΄ν„°κ·Έλ¨ λ°©μ‹ |
| μ „μ†΅ μμ„ λ³΄μ¥ | λ³΄μ¥ν•¨ | λ³΄μ¥ν•μ§€ μ•μ |
| μ‹ λΆ°μ„±   | λ†’μ | λ‚®μ |
| μ „μ†΅ μ†λ„ | λλ¦Ό | λΉ λ¦„ |

### μ°Έμ΅°

- [TCPμ™€ UDPμ νΉμ§• λ° μ°¨μ΄μ  μ•μ•„λ³΄κΈ°](https://dev-coco.tistory.com/144)
- [TCP μ—°κ²° κ³Όμ •](https://jungwoong.tistory.com/10)
- [TCP / UDP κ°λ…](https://inpa.tistory.com/entry/NW-π-μ•„μ§λ„-λ¨νΈν•-TCP-UDP-κ°λ…-β“-μ‰½κ²-μ΄ν•΄ν•μ#π¤_3-way_handshake_κ³Όμ •)













